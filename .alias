#!/bin/zsh

# macos
alias defsread='defaults read -g NSUserKeyEquivalents'

# Shell
alias vshell='vim ~/.shell'
alias valias='vim ~/.alias'
alias zshrc='vim ~/.zshrc'
alias bashrc='vim ~/.bashrc'
alias szshrc='source ~/.zshrc'
alias sbashrc='source ~/.bashrc'
alias lsh='ls -ld .?*'
alias ccat='pygmentize -f terminal256 -O style=native -g'
alias cdd='cd ~/Desktop'
alias cddev='cd ~/dev'
alias cdops='cd ~/dev/own/devops'
alias cdtool='cd ~/dev/toolchain/toolbox'
alias cdvi='cd ~/dev/vinturas'
alias cdjo='cd $GOPATH/src/github.com/bajocode/'
alias cdc='cd ~/dev/own/fabijanbajo.com'
alias c='cat'

# Vim
alias vimUpdatePlugins='cd ~/.vim_runtime && git pull --rebase'
alias vimrc='vim ~/.vim_runtime/my_configs.vim'

# Node
tsupdate() { cat $1 > ~/dev/own/backend/ts-starter/$1; }
yarnts() {
  for package in "$@"
  do
    yarn add $package && yarn add -D @types/$package
  done
}
npmts() {
  for package in "$@"
  do
    npm install $package && npm install -D @types/$package
  done
}
alias tsinit='cp -a ~/dev/own/backend/ts-starter/. .; npm i -D typescript tslint tslint-config-airbnb rimraf tsc-watch; npm run build'
alias yrw='yarn run watch'

# Webstorm
alias ws='open -a /Applications/WebStorm.app'

# Docker
alias drmia='docker rmi $(docker images -q)'
alias drma='docker rm $(docker ps -a -q)'
alias dil='docker image list'
alias dcl='docker container ls'
alias dipi='docker image prune --filter label=stage=intermediate -f'
alias dirm='docker image rm'
alias drmaia='drma -f; drmia -f'

# Kubernetes
alias k='kubectl'
alias kg='kubectl get'
alias ke='kubectl explain'
alias kds='kubectl describe'
alias kdl='kubectl delete'
alias kgn='kubectl get nodes'
alias kgp='kubectl get pods'
alias kgd='kubectl get deployments'
alias kge='kubectl get events'
alias kgs='kubectl get services'
alias kga='kubectl get all'
alias kdp='kubectl describe pods'
alias kdn='kubectl describe nodes'
alias kds='kubectl describe service'
alias kdd='kubectl describe deployments'
alias kda='kubectl delete all --all'
alias rb="rolebinding"
alias crb="clusterrolebinding"
alias kbb="kubectl run busybox --image=busybox:1.28 --rm -it --restart=Never --command --"
function copypullsecrets() {
  NAMESPACE=$1 \
    cat ~/dev/vinturas/pull.yaml | kubectl apply -n $NAMESPACE \
    -f - kubectl patch serviceaccount default \
    -n $NAMESPACE \
    -p '{"imagePullSecrets": [{"name": "ibmcloud-docker-pullsecret"}]}'
}

# Notes
alias n='cd /Users/fabijanbajo/Dropbox/dev/notes; code .'

# Jupyter notebook
alias jn='jupyter notebook'

# Git
gremote_gitlab_personal() { git remote add origin git@personal.gitlab.com:Bajocode/$1.git; }
gacp() { git add -A && git commit -m $1 && git push; }
alias gitinit='cp -a ~/dev/own/backend/git-starter/. .'
alias gcd='git checkout development'
alias gcm='git checkout master'
alias greset='git add . && git reset --hard'
alias gp='git pull'
alias gs='git status'
alias gl='git log'
alias gac='git add . && git commit -m'
alias dot='/usr/bin/git --git-dir=$HOME/.dotfiles/ --work-tree=$HOME'
alias dots='dot status'
alias dotd='dot diff'
alias dotsync='$HOME/dot-sync && source $HOME/.zshrc'
alias wfsync='$HOME/workflow-sync && source $HOME/.zshrc'
alias wfservices='cd $HOME/.workflow/services && open .'
alias wfshortcuts='vim $HOME/.workflow/shortcuts'
wfacp() { dot add $HOME/.workflow && dot commit -m $1 && dot push; }
dotcp() { dot commit -m $1 && dot push; }

# Kobo export
alias kobo='cp /Volumes/KOBOeReader/.kobo/KoboReader.sqlite ~/Desktop/; export-kobo.py ~/Desktop/KoboReader.sqlite --highlights-only --output ~/Desktop/highlights.txt; rm ~/Desktop/KoboReader.sqlite'

# IBM cloud
alias ic='ibmcloud'
alias icb='ic billing resource-group-usage Vinturas-Dev'
alias ics='ic ks messages && ic billing resource-group-usage Vinturas-Dev && ic ks cluster-get --cluster vin-dev'

# local alias
source ~/.alias.local
