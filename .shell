#!/bin/zs

# add aliases
source $HOME/.alias

# iTerm
# enable scrolling: https://apple.stackexchange.com/questions/332900/mouse-scroll-stopped-working-with-less-in-terminal
export LESS="-R"

# add commonly used folders to PATH
export PATH="/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin"

# go
export GOPATH="$(brew --prefix)/Cellar/go/1.12.6/"
export GOROOT="/usr/local/opt/go/libexec/"
export PATH=$PATH:$(go env GOPATH)/bin

# https://hyperledger-fabric.readthedocs.io/en/latest/install.html
export PATH=$PATH:$HOME/hyperledger-fabric/fabric-samples/bin

# Fastlane
export export LC_ALL=en_US.UTF-8
export LANG=en_US.UTF-8

# Homebrew Cask
export HOMEBREW_CASK_OPTS="--appdir=~/Applications"

# Vscode
export PATH="$PATH:/Applications/Visual Studio Code.app/Contents/Resources/app/bin"

# nvm
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && . "$NVM_DIR/bash_completion"  # This loads nvm bash_completion

# kubernetes
config_personal_root=$HOME/Dropbox/dev/.kube
config_office_root=$HOME/.bluemix/plugins/container-service/clusters
config_personal=$config_personal_root/docker-desktop:$config_personal_root/gke_fabijanbajo_us-central1-a_fabijanbajo:$config_personal_root/portfolio
config_office_dev=$config_office_root/vin-dev/kube-config-ams03-vin-dev.yml
config_office_pilot=$config_office_root/orderer-staging/kube-config-fra02-orderer-staging.yml:$config_office_root/nvd-staging/kube-config-fra02-nvd-staging.yml:$config_office_root/axess-staging/kube-config-fra02-axess-staging.yml:$config_office_root/koopman-staging/kube-config-fra02-koopman-staging.yml:$config_office_root/vinturas-staging/kube-config-fra02-vinturas-staging.yml
config_office_sandbox=$config_office_root/completenetwork-sandbox/kube-config-fra02-completenetwork-sandbox.yml
config_office_development=$config_office_root/completenetwork-development/kube-config-fra02-completenetwork-development.yml
config_office_prod=$config_office_root/axess-prod/kube-config-fra02-axess-prod.yml:$config_office_root/cat-prod/ca-fra02-cat-prod.yml/$config_office_root/koopman-prod/kube-config-fra02-koopman-prod.yml:$config_office_root/nvd-prod/kube-config-fra02-nvd-prod.yml:$config_office_root/orderer-prod/kube-config-fra02-orderer-prod.yml:$config_office_root/vinturas-prod/kube-config-fra02-vinturas-prod.yml:$config_office_root/cat-prod/kube-config-fra02-cat-prod.yml:$config_office_root/koopman-prod/kube-config-fra02-koopman-prod.yml

export KUBECONFIG=$config_personal:$config_office_dev:$config_office_sandbox:$config_office_development:$config_office_pilot:$config_office_prod

function get_cluster_short() { 
  if [[ $(helm version --short) == *"v2"* ]]; then helm_v="2"; elif [[ $(helm version --short) == *"v3"* ]]; then helm_v="3"; fi
  echo "${1}(h${helm_v})"
}

KUBE_PS1_CLUSTER_FUNCTION=get_cluster_short
KUBE_PS1_SYMBOL_ENABLE=false
KUBE_PS1_PREFIX=""
KUBE_PS1_SUFFIX=""
source "/usr/local/opt/kube-ps1/share/kube-ps1.sh"
PS1='$(kube_ps1)'$PS1

# IBM cloud
IC_DIR=/usr/local/ibmcloud
if [ -d $IC_DIR ]; then
  source ${IC_DIR}/autocomplete/zsh_autocomplete
fi

# Gcloud
CLOUD_SDK_HOME=/usr/local/Caskroom/google-cloud-sdk/latest/google-cloud-sdk
source "${CLOUD_SDK_HOME}/completion.zsh.inc"

# Azure
AZ_DIR=/usr/local/etc/bash_completion.d/az
if [ -d $AZ_DIR ]; then
  source /usr/local/etc/bash_completion.d/az
fi

# vault
export VAULT_ADDR='"http://127.0.0.1:8200'

# fastlane
export LC_ALL=en_US.UTF-8
export LANG=en_US.UTF-8
